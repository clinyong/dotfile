#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...

alias cls='clear'
alias ll='ls -hl'
alias la='ls -ahl'

alias vi=vim

alias ety='truncate -s 0'

# ge means gui emacs
alias e='emacsclient -t'
alias ge='emacsclient -c'

# git alias
alias gss='git status -s'
alias gdf='git diff'
alias gp='git push'
alias gl='git pull'
alias gco='git checkout'
alias gc='git commit'
alias gffs='git flow feature start'

# http proxy alias
# alias oneproxy='http_proxy=127.0.0.1:8124'
# alias httpproxy='export http_proxy=http://127.0.0.1:8124'
# alias httpsproxy='export https_proxy=http://127.0.0.1:8124'

# press format alias
alias targz='tar zcvf'
alias targzu='tar zxvf'
alias tarbz2='tar jcvf'
alias tarbz2u='tar jxvf'

# js alias
alias jsformat = 'standard --format'

export LC_ALL=en_US.UTF-8  
export LANG=en_US.UTF-8
export PATH="/usr/local/bin:$PATH"

# system default editor
export EDITOR="vim"
export VISUAL="vim"

# tmux setting
export tmux="tmux -2"

# useful functions

function is_not_empty_folder() {
	if [ "$(ls -A .)" ]; then
		# 0 = true
		return 0
	else
		# 1 = false
		return 1
	fi
}

# set gopath in current dir
function gopwd() {
    # if is_not_empty_folder $1;then
		# echo "Must be an empty folder."
		# return
	# fi

	mkdir -p src bin pkg
	export GOPATH=$PWD
	# export PATH="$GOPATH/bin:$PATH"
}

# go work area init
function goinit() {
    if is_not_empty_folder $1;then
		echo "Must be an empty folder."
		return
	fi

	git clone https://gitcafe.com/lan-init/go.git goinit
	mv goinit/Makefile .
	mv goinit/_fswatch.json .fswatch.json
	mv goinit/_gitignore .gitignore
	make init
	mkdir conf
	touch src/main/main.go
	rm -rf goinit
	gopwd
}

# react area init
function reactinit() {
    if is_not_empty_folder $1;then
		echo "Must be an empty folder."
		return
	fi

	git clone https://gitcafe.com/lan-init/react.git reactinit
	mv reactinit/webpack.config.js .
	npm install react react-dom redux
	npm install webpack babel-loader
}

source "$HOME/.zshrc.custom"
